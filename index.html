<!doctype html>

<title>CodeMirror: merge view demo</title>
<meta charset="utf-8"/>

<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.23.0/codemirror.css">
<link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.23.0/addon/merge/merge.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.23.0/theme/seti.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.23.0/codemirror.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/diff_match_patch/20121119/diff_match_patch.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.23.0/addon/merge/merge.js"></script>
<script src="./abap.js"></script>

<style>
  .CodeMirror {
    line-height: 1.2;
  }
  @media screen and (min-width: 1300px) {
    article { max-width: 1300px; }
  }
  .CodeMirror-merge-l-chunk {
    background: #303030;
  }
</style>

<article>
<div id=view></div>

<script>
var value, orig1, dv;

function initUI() {
  if (value == null) return;
  var target = document.getElementById("view");
  target.innerHTML = "";

  dv = CodeMirror.MergeView(target, {
    value: value,
    origLeft: orig1,
    lineNumbers: true,
    mode: "abap",
    tabSize: 2,
    theme: "seti",
    highlightDifferences: true,
    connect: null,
    collapseIdentical: false
  });
}

window.onload = function() {
  orig1 = 'REPORT zfoobar.\n\nSELECT * FROM zfoo INTO TABLE lt_foo.';
  value = 'REPORT zfoobar.\n\nSELECT * FROM zfoo INTO TABLE lt_foo ORDER BY PRIMARY KEY.\nWRITE \'hello\'.';

  initUI();
};
</script>
</article>
